# Zookeeper的内部原理

## 选举机制

- 半数机制：集群中半数以上机器存活，集群可用。
- Zookeeper虽然在配置文件中没有指定的Master和Work。但是Zookeeper工作时，是有一个节点为Leader，其他则为Follow，Leader是通过内部选举机制临时产生的。
- 第一次选举机制
- Leader挂掉的情况
- （,SID）

## 节点类型

- Persistent：客户端和服务器断开连接后，创建的节点不删除
- Ephemeral：客户端和服务器断开连接后，创建的节点自己删除

- 持久化目录节点
- 持久化顺序编号目录节点
  - 在分布式系统中，顺序号可以被用于为所有的事件进行全局排序，这样客户端可以通过顺序号推断时间的顺序。
- 临时目录节点
- 临时顺序编号目录节点

